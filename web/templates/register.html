{% extends "base.html" %}
{% load static i18n %}

{% block head %}
<link rel="stylesheet" href="{% static 'css/register.css' %}">
{% endblock %}
{% block body_class %}register-page{% endblock %}
{% block content %}
<main role="main" aria-label="{% trans 'User Registration Page' %}">
<div class="register-container">
    <div class="register-box">
        <form method="post" aria-labelledby="register-heading">
            <h2 id="register-heading">{% trans "Register" %}</h2>
            {% csrf_token %}

            <fieldset role="group" aria-label="{% trans 'Registration Form' %}">
                <!-- 用户名 -->
                <div class="form-group">
                    {{ form.username.label_tag }}
                    {{ form.username }}
                    {% if form.username.errors %}
                        <div class="error" role="alert" aria-live="polite">
                            {% for error in form.username.errors %}
                                <p>{{ error }}</p>
                            {% endfor %}
                        </div>
                    {% endif %}
                </div>

                <!-- 全名 -->
                <div class="form-group">
                    {{ form.full_name.label_tag }}
                    {{ form.full_name }}
                    {% if form.full_name.errors %}
                        <div class="error" role="alert" aria-live="polite">
                            {% for error in form.full_name.errors %}
                                <p>{{ error }}</p>
                            {% endfor %}
                        </div>
                    {% endif %}
                </div>

                <!-- 邮箱 -->
                <div class="form-group">
                    {{ form.email.label_tag }}
                    {{ form.email }}
                    {% if form.email.errors %}
                        <div class="error" role="alert" aria-live="polite">
                            {% for error in form.email.errors %}
                                <p>{{ error }}</p>
                            {% endfor %}
                        </div>
                    {% endif %}
                </div>

                <!-- 地址 -->
                <div class="form-group">
                    {{ form.shipping_address.label_tag }}
                    {{ form.shipping_address }}
                    {% if form.shipping_address.errors %}
                        <div class="error" role="alert" aria-live="polite">
                            {% for error in form.shipping_address.errors %}
                                <p>{{ error }}</p>
                            {% endfor %}
                        </div>
                    {% endif %}
                </div>

                <!-- 密码 -->
                <div class="form-group">
                    {{ form.password1.label_tag }}
                    {{ form.password1 }}
                    {% if form.password1.errors %}
                        <div class="error" role="alert" aria-live="polite">
                            {% for error in form.password1.errors %}
                                <p>{{ error }}</p>
                            {% endfor %}
                        </div>
                    {% endif %}
                </div>

                <!-- 密码确认 -->
                <div class="form-group">
                    {{ form.password2.label_tag }}
                    {{ form.password2 }}
                    {% if form.password2.errors %}
                        <div class="error" role="alert" aria-live="polite">
                            {% for error in form.password2.errors %}
                                <p>{{ error }}</p>
                            {% endfor %}
                        </div>
                    {% endif %}
                </div>
            </fieldset>

            <button type="submit" class="btn btn-primary" aria-label="{% trans 'Submit registration form' %}">
                {% trans "Sign up" %}
            </button>
        </form>

        {% if form.errors %}
        <div class="errors" role="alert" aria-live="polite">
            <ul>
                {% for field in form %}
                    {% for error in field.errors %}
                        <li>{{ error }}</li>
                    {% endfor %}
                {% endfor %}
                {% for error in form.non_field_errors %}
                    <li>{{ error }}</li>
                {% endfor %}
            </ul>
        </div>
        {% endif %}
    </div>
</div>
</main>
{% endblock content %}
